{"name":"Teamcity-crowd-plugin","tagline":"A way to integrate Crowd as an Authentication and Authorization in TeamCity","body":"TeamCity Crowd Plugin\r\n=================================\r\n\r\nLatest version of plugin is [0.2.1](https://bintray.com/greggigon/generic/TeamCity-Crowd-Plugin/0.2.1) and available on [BinTray](https://bintray.com/greggigon/generic/TeamCity-Crowd-Plugin/).\r\nBuild for TeamCity 8.1.1 and Crowd 2.6.5 .\r\n\r\n\r\nIntroduction\r\n-------------\r\n\r\n[TeamCity](http://www.jetbrains.com/teamcity/) Crowd integration plugin is used by TeamCity for user authentication.\r\n\r\n[Plugin listed on Jetbrains page]http://confluence.jetbrains.com/display/TW/TeamCity+Plugins.\r\n\r\nThe plugin replaces standard TeamCity Authentication mechanism by talking to [Atlassian Crowd](https://www.atlassian.com/software/crowd/overview).\r\nWhen user logs in with username and password, plugin validates credentials with Crowd. If the user \"checks out\" fine, the plugin creates user in TeamCity if the user doesn't exists.\r\n\r\nOnce the user is created Plugin will update user's group membership.\r\nThere are two modes in which Plugin can work (configured via plugin configuration file):\r\n  - Plugin will only update membership of a user with groups that already exists in TeamCity. Previously created. This means that user will only be added to groups that already exist in TeamCity (default functionality)\r\n  - Plugin will create missing groups and update user membership (set via configuration file, not default)\r\n\r\n##### Note\r\nPlugin uses different REALM to TeamCity. Once plugin activated the entire user base and groups prior to installation will be __NOT__ accessible.\r\n\r\nBuilding the plugin\r\n-------------------\r\n\r\nTo build the plugin you need Java installed on your machine and access to the Internet.\r\nPlugin uses Gradle to build the project.\r\n\r\n    gradlew buildPlugin\r\n\r\nThe build will run tests and prepare zip file in the __build/dist__ project folder.\r\n\r\n##### Note\r\nFirst time the plugin is build it will download a distribution of TeamCity, it might take a while (~300MB).\r\n\r\nIf you have a distribution of TeamCity deployed somewhere you might copy it to project directory __teamcitydist/__ folder or modify __build.gradle__ file.\r\n\r\nYou can also change the versions of TeamCity distribution and Crowd libraries in the __build.gradle__ file.\r\n\r\n\r\n### Versions\r\n\r\nThe plugin was tested with `Teamcity 8.1.1` and `Atlassian Crowd 2.6.1, 2.6.3`. Build with `JDK 7 on Mac, Windows and Linux`.\r\n\r\nInstallation\r\n------------\r\n\r\nTo install TeamCity Crowd plugin you need to copy the plugin distribution file (build/dist/teamcity-crowd-plugin-(version).zip) into __TeamCityDataDir/plugins__ folder.\r\n__TeamCityDataDir__ is the server data folder. By default it is in the __User Home/.Buildserver__. More info at [JetBrains TeamCity WIKI](http://confluence.jetbrains.com/display/TCD8/TeamCity+Data+Directory).\r\n\r\nYou can also copy presets file __crowd.xml__ from [this repository](https://raw2.github.com/greggigon/TeamCity-Crowd-Plugin/master/crowd.xml) and place it in the __TeamCityDataDir/config/_auth__ folder.\r\nIt is Authentication preset file that will make Crowd Authentication selectable from the Administrator view in TeamCity.\r\n\r\nIf you don't copy the file you need to manually modify __auth-config.xml__ in  __TeamCityDataDir/config__  folder.\r\nSample configuration [auth-config.xml](https://raw2.github.com/greggigon/TeamCity-Crowd-Plugin/master/auth-config.xml) can be found in this repository.\r\n\r\nFor the plugin to work you need to create or copy Plugin Configuration file called __teamcity-crowd-plugin.properties__ and place it in the __TeamCityDataDir/config__. It has to be the exact name.\r\nSample configuration file can be found [in this repository](https://raw2.github.com/greggigon/TeamCity-Crowd-Plugin/master/teamcity-crowd-plugin.properties).\r\n\r\n##### Note\r\nPlugin uses different REALM to TeamCity. The entire user base created prior to plugin activation will not be visible/usable.\r\nOne plugin activated you can log into TeamCity with your Crowd credentials. To see the administration panel you will have to log in as SUPER USER into TeamCity with TOKEN from the teamcity-server.log file and make your user administrator (via checkbox on user page).\r\n\r\n__Remember to restart TeamCity for plugin to work.__\r\n\r\nConfiguration\r\n-------------\r\n\r\nIf you have the presets file copied to TeamCity configuration folder, you can select the Authentication mechanism in the Administration -> Authentication panel of TeamCity.\r\nYou can manually enable the plugin by modifying __auth-config.xml__ file.\r\n\r\nYou also need to configure Crowd Server details in the __teamcity-crowd-plugin.properties__ file. Example configuration:\r\n\r\n```\r\n    application.name=teamcity\r\n    application.password=password\r\n    application.login.url=http://localhost:8111/login.html\r\n\r\n    crowd.base.url=http://localhost:8095/crowd\r\n\r\n    session.isauthenticated=session.isauthenticated\r\n    session.tokenkey=whateva\r\n    session.validationinterval=0\r\n    session.lastvalidation=session.lastvalidation\r\n```\r\n\r\n!Note!\r\nMake sure to add Application to the Crowd server with appropriate name and password.\r\n\r\n#### Extra config parameter for group creation\r\n\r\nThere is one additional property that you can setup in the __teamcity-crowd-plugin.properties__ file.\r\n\r\n```\r\n    tc.crowd.plugin.createGroups=true # default false\r\n```\r\n\r\nIf you set this up the Plugin will create Groups in TeamCity when user logs in and Group is not there.\r\nIt is switched off by default as the Group creation involves generation of the Group Key. Group Key in TeamCity is limited to 16 characters and it might fail the creation anyway if the key is duplicated.\r\n\r\nCreating Groups manually gives more control over Project Permissions, etc.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}